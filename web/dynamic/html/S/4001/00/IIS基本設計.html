<h2>IISマネージャー</h2>
IISに関する設定はIISマネージャーを通して行います。<br />スタートメニューからIISマネージャーを開いてください。<br /><br />以下の画面が表示されます。
<img src="/static/img/S00/4001/IIS-manager.png" alt="IISマネージャー" />
<h2>IIS管理画面の構成</h2>



<h2>URI</h2>
URI(URL)は以下の構成となっています。
<img src="/static/img/S00/4001/uri.png" alt="URI" />
HTTPでポート80番を使用している場合とHTTPSでポート443を使用している場合にはポート番号を省略可能です。<br /><br />それぞれの意味について簡単に説明します。
<table>
	<tbody>
		<tr>
			<th>スキーム</th>
			<td>単純なHTTP、ないしはSSL/TLS(暗号化通信)されたHTTPかを指定します。<br />それ以外にもFTP(ファイル転送)やSMTP(メール送信)スキームなどを指定可能です。</td>
		</tr>
		<tr>
			<th>ドメイン(ホスト)</th>
			<td>コンピュータの所在を表します。<br />ドメイン名とIPアドレスのいずれも指定可能です。<br />ドメイン名を指定した場合にはDNSという仕組みを使用してドメイン名をIPアドレスに変換(名前解決)します。<br />また、「localhost」「127.0.0.1」は自分自身を意味します</td>
		</tr>
		<tr>
			<th>ポート番号</th>
			<td>コンピュータへの入口を指定します。<br />HTTPの場合は80番ポート、HTTPSの場合は443と定められています。</td>
		</tr>
		<tr>
			<th>パス</th>
			<td>指定したコンピュータ上の要求する資源への道のり(パス)を指定します。</td>
		</tr>
	</tbody>
</table>
<h2>ルートディレクトリ</h2>
IISは送信されるHTTPリクエストに関する指定されたパスをもとに返却するデータを検索します。<br />特に何も指定しない場合には「/」となりますが、これをルートディレクトリと呼びます。<br /><br />IISはデフォルトでルートディレクトリを「%SystemDrive%\inetpub\wwwroot」に設定しています。<br />「%SystemDrive%」は環境変数であり、一般的には「C:\(Cドライブ)」が該当します。<br />このCドライブにある、「inetpub\wwwroot」を起点として、言い換えればルートディレクトリにセットして返却するファイルを決定します。<br /><br />では、トップページ(<a href="http://localhost/">http://localhost/</a>)にアクセスした際に表示される画面が当該ディレクトリに存在することを確認しましょう♪
<img src="/static/img/S00/4001/wwwroot.png" alt="wwwroot" />
なんとなく理解できましたか???
<h3>ルートディレクトリの変更</h3>
IISマネージャーから変更可能です。<br />「PC &gt; サイト &gt; Default Web Site」を選択し、右側に表示されている「基本設定」をクリックします。<br /><br />「物理パス」と書かれている欄にルートディレクトリを指定します。
<img src="/static/img/S00/4001/change_wwwroot.gif" alt="ルートディレクトリの設定" />
環境変数(%SystemDrive%)を変更してもルートディレクトリを変更することができますが、環境変数を変更するとその環境変数を使用している他のプログラムが誤作動する危険性があるため、IISの物理パス設定を変更してください。<br /><br />「%SystemDrive%」を使用せずに、「C:\」から指定してもok!ですが、一般的にはシステムを動作させているドライブと同じドライブにあるディレクトリをルートディレクトリに設定することが多いため、「%SystemDrive%」をそのまま使用することが多いです。
<h2>サーバ設定</h2>
サーバというと一般に専用のコンピュータをイメージする方が多いと思いますが、「Server」は「奉仕する人・物」の意味で、ITの世界では何かのリクエストに対して処理を行って、その結果を返却するプログラムを指します。<br />WEBサーバはHTTPリクエストを受け付けてHTTPレスポンスを生成する処理をして、それを返すプログラムという意味です。<br /><br />また、サーバと対になる何かの処理を頼むプログラムをクライアントと呼び、HTTP通信ではブラウザが担当します。
<img src="/static/img/S00/4001/server.png" alt="サーバ" />
<h3>仮想サーバ</h3>
一台のPCで複数の仮想的なサーバを構築することができます。<br />論理的に構成されたサーバを仮想サーバと呼び、WEBサーバでは以下の種類を指定することで仮想サーバを構築することができます。
<ul>
	<li>ポート番号</li>
	<li>対象ホスト</li>
</ul>
ポートに対するごとに対応をするサーバを変えることができます。<br /><br />また、ポートはひとつのプロセス(プログラム)が占有するため、同一のポートを複数のプロセスで共有できませんが、同一のプロセスが対象のホストを見て処理を分けることで仮想サーバとしての動作をすることもできます。<br />複数ドメインをひとつのコンピュータで運用する際には、この方法を採用します。
<img src="/static/img/S00/4001/virtual-server.png" alt="仮想サーバ" />
<h3>仮想サーバの管理</h3>
左に表示されているオブジェクトエクスプローラーの「サイト」タブをクリックするとメインウィンドウに現在存在している仮想サーバ一覧が出力されます。<br />それぞれ、ID・状態・バインド・パスが表示されていることが確認できます。
<img src="/static/img/S00/4001/virtual-servers.png" alt="仮想サーバ一覧" />



<img src="/static/img/S00/4001/port-conflict.png" alt="ポートの競合" />


